---
- hosts: localhost
  connection: local
  become: true

  tasks:
  - name: Remove Thunderbird
    ansible.builtin.apt:
      name: thunderbird
      state: absent


  - name: Check if i386 is enabled
    shell: dpkg --print-foreign-architectures | grep i386
    register: result_i386_check
    changed_when: result_i386_check.rc == 1
    failed_when: result_i386_check.rc > 1

  - name: Enable i386 architecture
    command: dpkg --add-architecture i386
    when: result_i386_check.rc == 1

  - name: Install Ubuntu Packages
    package:
      name:
        - tmux
        - vim-nox

  - name: Install Snaps
    community.general.snap:
      name:
        - bitwarden
        - chromium
        - htop
        - launcher-ot-minecraft
        - nvtop
        - thunderbird
        - pdfarranger
